{% load static %}

<div class="main">
    <div :style="messagesStyle" class="tab-content" id="nav-tabContent">
        <!-- Start of Babble -->
        <div class="babble tab-pane fade active show" id="list-chat" role="tabpanel" aria-labelledby="list-chat-list">
            <!-- Start of Chat -->
            <div class="chat" id="chat1">
                <div v-if="currentContact" class="top">
                    <div class="container">
                        <div class="col-md-12">
                            <div class="inside">
                                <a href="#"><img class="avatar-md" src="{% static 'chat/img/avatars/avatar-female-5.jpg' %}" data-toggle="tooltip" data-placement="top" title="Keith" alt="avatar"></a>
                                <div v-if="currentContact.otheronline" class="status">
                                    <i class="material-icons online">fiber_manual_record</i>
                                </div>
                                <div class="data">
                                    <h5><a href="#" id="otherusername" v-html="currentContact.otherusername"></a></h5>
                                    <span>Active now</span>
                                </div>
                                <div class="dropdown">
                                    <button class="btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="material-icons md-30">more_vert</i></button>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <button class="dropdown-item"><i class="material-icons">clear</i>Clear History</button>
                                        <button class="dropdown-item"><i class="material-icons">block</i>Block Contact</button>
                                        <button class="dropdown-item"><i class="material-icons">delete</i>Delete Contact</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="content" id="content">
                    <div class="container">
                        <div class="col-md-12" id="messages">
                            <div 
                                v-for="message in messages"
                                class="message"
                                :class="{ me: message.user==user_id }"
                                >
                                <!-- <img class="avatar-md" src="dist/img/avatars/avatar-female-5.jpg" data-toggle="tooltip" data-placement="top" title="Keith" alt="avatar"> -->
                                <div class="text-main">
                                    <div 
                                        class="text-group"
                                        :class="{ me: message.user==user_id }">
                                        
                                        <div 
                                            class="text"
                                            :class="{ me: message.user==user_id }">
                                            <p v-html="message.content"></p>
                                        </div>
                                    </div>
                                    <!-- <span>09:46 AM</span> -->
                                </div>
                            </div>                            
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="col-md-12">
                        <div class="bottom">
                            <div class="position-relative w-100">
                                <textarea
                                    @keyup="clickSubmitButton" 
                                    class="form-control" 
                                    placeholder="Start typing for reply..." 
                                    rows="1"
                                    maxlength="400"
                                    id="message_input"></textarea>
                                <button 
                                    @click="sendMessage"
                                    type="submit" 
                                    class="btn send" 
                                    id="message_submit"><i class="material-icons">send</i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End of Chat -->
        </div>
        <!-- End of Babble -->
        <!-- Start of Babble -->

        <!-- End of Babble -->
        <!-- Start of Babble -->
        <div class="babble tab-pane fade" id="list-request" role="tabpanel" aria-labelledby="list-request-list">
            <!-- Start of Chat -->
            <div class="chat" id="chat3">
                <div class="top">
                    <div class="container">
                        <div class="col-md-12">
                            <div class="inside">
                                <a href="#"><img class="avatar-md" src="{% static 'chat/img/avatars/avatar-female-6.jpg' %}" data-toggle="tooltip" data-placement="top" title="Louis" alt="avatar"></a>
                                <div class="status">
                                    <i class="material-icons offline">fiber_manual_record</i>
                                </div>
                                <div class="data">
                                    <h5><a href="#">Louis Martinez</a></h5>
                                    <span>Inactive</span>
                                </div>
                                <div class="dropdown">
                                    <button class="btn disabled" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" disabled><i class="material-icons md-30">more_vert</i></button>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <button class="dropdown-item"><i class="material-icons">clear</i>Clear History</button>
                                        <button class="dropdown-item"><i class="material-icons">block</i>Block Contact</button>
                                        <button class="dropdown-item"><i class="material-icons">delete</i>Delete Contact</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="content empty">
                    <div class="container">
                        <div class="col-md-12">
                            <div class="no-messages request">
                                <a href="#"><img class="avatar-xl" src="{% static 'chat/img/avatars/avatar-female-6.jpg' %}" data-toggle="tooltip" data-placement="top" title="Louis" alt="avatar"></a>
                                <h5>Louis Martinez would like to add you as a contact. <span>Hi Keith, I'd like to add you as a contact.</span></h5>
                                <div class="options">
                                    <button class="btn button"><i class="material-icons">check</i></button>
                                    <button class="btn button"><i class="material-icons">close</i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="col-md-12">
                        <div class="bottom">
                            <form class="position-relative w-100">
                                <textarea class="form-control" placeholder="Messaging unavailable" rows="1" disabled></textarea>
                                <button class="btn emoticons disabled" disabled><i class="material-icons">insert_emoticon</i></button>
                                <button class="btn send disabled" disabled><i class="material-icons">send</i></button>
                            </form>
                            <label>
                                <input type="file" disabled>
                                <span class="btn attach disabled d-sm-block d-none"><i class="material-icons">attach_file</i></span>
                            </label> 
                        </div>
                    </div>
                </div>
            </div>
            <!-- End of Chat -->
        </div>
        <!-- End of Babble -->
    </div>
</div>

{{ user.id|json_script:"user_id" }}